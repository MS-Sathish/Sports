<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="<%= csrfToken %>">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="./css/styles.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <title>Document</title>
    <style>
        .material-symbols-outlined {
          font-variation-settings:
          'FILL' 0,
          'wght' 400,
          'GRAD' 0,
          'opsz' 48
        }
        /* .block{
            position: absolute;
            padding: 5px;
        } */
        .cardone{
            display: grid;
            grid-template-columns: 45% 45%;
        }
        </style>
</head>
<body>
    <section id="pg">
    <% if(emailid === "sathish@123"){%>
        <div class="grid place-items-center">
       <h1 class="py-4 text-4xl font-extrabold text-gray-900 dark:text-white" >Create a new sport</h1>
    <form action="/sports" method="post">
        <input type="hidden" name="_csrf" value="<%= csrfToken %>">
        <div class="py-3">
        <label for="sportName">SportName :</label>
        <input type="text" name="sportName" required class="border border-gray-300 text-gray-900 rounded p-2">
        </div>
    <div class="py-3">
        <button type="submit" class="text-white bg-green-600 hover:bg-green-800 font-medium rounded px-5 py-2">Create</button>
        </div>
    </form>
    <% }%>
    <div class="grid place-items-center">
        <h1 class="py-4 text-4xl font-extrabold text-gray-900 dark:text-white">Sports</h1>
        <% getsport.forEach(function(user){ %>
            <br>
            <div class="bg-gray-200 max-w-sm rounded overflow-hidden shadow-lg">
                <div class="px-6 py-4">
                  <div class="font-bold text-xl mr-2 mb-2"><a href="" class="href"><%= user.sportsName %></a></div>
                </div>
                <% if(emailid === "sathish@123"){%>
                <div class="px-6 pt-4 pb-2 cardone">
                    <div class="block">
                <button class="text-white bg-red-800 hover:bg-red-400 font-medium rounded px-5 py-2 deleteBtn" onclick=""><span style="color:transparent;"><%= user.id %></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16">
                    <path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z"/>
                  </svg></button>
                </div>
                <div class="block">
                <button class="text-white bg-blue-800 hover:bg-blue-400 font-medium rounded px-5 py-2 editBtn" onclick=""><span style="color:transparent;"><%= user.sportsName %></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
                    <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
                  </svg></button>
            </div>
            </div>
                <% }%>
              </div>
             
     <% }); %>
    </div>
    </div>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <script>
        let deleteBtn = document.querySelectorAll("button.deleteBtn");
        deleteBtn.forEach((b) => {
            b.addEventListener("click", function(e) {
                event.preventDefault()
                this.setAttribute("onclick", `window.location.href(${encodeURIComponent(this.innerText)})`)
                window.location.href = "Delete/Game/" + encodeURIComponent(this.innerText)    
            })
        })
    </script>
     <script>
        let editBtn = document.querySelectorAll("button.editBtn");
        editBtn.forEach((b) => {
            b.addEventListener("click", function(e) {
                event.preventDefault()
                this.setAttribute("onclick", `window.location.href(${encodeURIComponent(this.innerText)})`)
                window.location.href = "Edit/Game/" + encodeURIComponent(this.innerText)    
            })
        })
    </script>
    <script>
        let a = document.querySelectorAll("a.href");
        a.forEach((b) => {
            b.addEventListener("click", function(e) {
                event.preventDefault()
                this.setAttribute("href", encodeURIComponent(this.innerText))
                window.location.href = encodeURIComponent(this.innerText)
            })
        })
    </script>
    </section>
</body>
</html>